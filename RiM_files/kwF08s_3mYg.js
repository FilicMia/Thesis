if (self.CavalryLogger) { CavalryLogger.start_js(["Rhp6h"]); }

__d("LightweightEventType",[],(function a(b,c,d,e,f,g){f.exports={EVENT:"EVENT",CALL:"CALL",DIRECT_M:"DIRECT_M"};}),null);
__d('EventGuestProfileShape',['EventReminderConstants','React'],(function a(b,c,d,e,f,g){var h=c('EventReminderConstants').GuestStates,i=c('React').PropTypes,j={fbid:i.string,imageSrc:i.oneOfType([i.string,i.object]),guestState:i.oneOf([h.GOING,h.DECLINED,h.INVITED]).isRequired};f.exports=j;}),null);
__d('EventGuestProfilePicWithBadge.react',['ix','cx','EventGuestProfileShape','EventReminderConstants','Image.react','React','fbglyph'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('EventReminderConstants').GuestStates,m=c('React').PropTypes,n=2,o=h("114568"),p=h("114707");j=babelHelpers.inherits(q,c('React').Component);k=j&&j.prototype;q.prototype.render=function(){var r=this.props,s=r.badgeSize,t=r.imageSize,u=r.profile,v=c('React').createElement(c('Image.react'),{className:"_3vnr",height:t,width:t,src:u.imageSrc}),w={marginLeft:-s+'px',marginTop:t+2*n-s+'px'},x=null;if(u.guestState===l.GOING){x=c('React').createElement(c('Image.react'),{className:"_3vns",style:w,src:o});}else if(u.guestState===l.DECLINED)x=c('React').createElement(c('Image.react'),{className:"_3vnt",style:w,src:p});return c('React').createElement('div',{className:this.props.className},v,x);};function q(){j.apply(this,arguments);}q.defaultProps={badgeSize:16,imageSize:32};q.propTypes={badgeSize:m.number,className:m.string,imageSize:m.number,profile:m.shape(c('EventGuestProfileShape')).isRequired};f.exports=q;}),null);
__d('EventRSVPFacepile.react',['cx','EventGuestProfilePicWithBadge.react','EventGuestProfileShape','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=this.props.profiles.map(function(n,o){return c('React').createElement(c('EventGuestProfilePicWithBadge.react'),{badgeSize:this.props.badgeSize,className:"_4sju",imageSize:this.props.faceSize,key:o+n.fbid,profile:n});}.bind(this));return c('React').createElement('div',{className:c('joinClasses')("_4sjv",this.props.className)},m);};function l(){i.apply(this,arguments);}l.defaultProps={badgeSize:16,faceSize:32};l.propTypes={badgeSize:k.number,className:k.string,faceSize:k.number,profiles:k.arrayOf(k.shape(c('EventGuestProfileShape'))).isRequired};f.exports=l;}),null);
__d('EventResponseButtons.react',['cx','fbt','EventReminderConstants','React','XUIButton.react','XUISingleSelector.react','XUISpinner.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('XUISingleSelector.react').Option,m=c('EventReminderConstants').GuestStates;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={showSpinner:false,prevGuestState:''},this.$EventResponseButtons4=function(){this.setState({showSpinner:true,prevGuestState:this.props.guestState});this.props.onResponseClick(m.DECLINED);}.bind(this),this.$EventResponseButtons5=function(){this.setState({showSpinner:true,prevGuestState:this.props.guestState});this.props.onResponseClick(m.GOING);}.bind(this),this.$EventResponseButtons6=function(t){this.setState({showSpinner:true,prevGuestState:this.props.guestState});this.props.onResponseClick(t.value);}.bind(this),p;}n.prototype.render=function(){if(this.state.showSpinner){return this.$EventResponseButtons1();}else return this.props.guestState===m.INVITED?this.$EventResponseButtons2():this.$EventResponseButtons3();};n.prototype.$EventResponseButtons1=function(){var o=this.state.prevGuestState===m.INVITED?"_164q":"_164s";return c('React').createElement(c('XUISpinner.react'),{className:o,size:'small'});};n.prototype.$EventResponseButtons2=function(){return c('React').createElement('div',{className:"_26lz"},c('React').createElement(c('XUIButton.react'),{className:"_26l-",label:i._("Ne mogu do\u0107i"),onClick:this.$EventResponseButtons4,size:this.props.size}),c('React').createElement(c('XUIButton.react'),{className:"_26l_",label:i._("Dolazim"),onClick:this.$EventResponseButtons5,size:this.props.size}));};n.prototype.$EventResponseButtons3=function(){return c('React').createElement(c('XUISingleSelector.react'),{onChange:this.$EventResponseButtons6,value:this.props.guestState,size:this.props.size},c('React').createElement(l,{value:m.GOING,label:i._("Dolazim")}),c('React').createElement(l,{value:m.DECLINED,label:i._("Ne mogu do\u0107i")}));};f.exports=n;}),null);
__d('EventPlanStrings',['fbt','formatDate'],(function a(b,c,d,e,f,g,h){'use strict';var i=' \u00B7 ',j={getStartPlanFBT:function k(){return h._("Zapo\u010dnite plan");},getLoadingPlanFBT:function k(){return h._("U\u010ditavanje...");},getDisplayDateAndTimeFBT:function k(l,m){var n=h._("{reminder_date} u {reminder_time}",[h.param('reminder_date',c('formatDate')(l,'D M j')),h.param('reminder_time',c('formatDate')(l,'g:iA'))]);if(m){return h._("{reminder_date_and_time}{middot_separator_for_time_and_name}{reminder_name}",[h.param('reminder_date_and_time',n),h.param('middot_separator_for_time_and_name',i),h.param('reminder_name',m)]);}else return n;},getSubtitle:function k(l,m,n){var o=h._({"*":"{number} dolazi","268435456":"Jedna osoba dolazi"},[h.plural(l,'number')]),p=void 0;if(m){if(n){p=h._("{reminder_location_name}{middot_separator_for_location_and_going_members}{going_member_count}",[h.param('reminder_location_name',m),h.param('middot_separator_for_location_and_going_members',i),h.param('going_member_count',o)]);}else p=m;}else p=o;return p;}};f.exports=j;}),null);
__d('EventPlanTimeHelper',['EventReminderConstants'],(function a(b,c,d,e,f,g){'use strict';var h=c('EventReminderConstants').TimeErrorType,i={getTimeErrorType:function j(k){var l=new Date(k),m=new Date(),n=new Date(new Date().setFullYear(new Date().getFullYear()+1));if(l<=m){return h.PAST_TIME;}else if(l>=n){return h.AFTER_ONE_YEAR;}else return h.NO_ERROR;}};f.exports=i;}),null);
__d('LightweightEventDateTimePicker.react',['ix','cx','fbt','invariant','DatePickerRestraints','EventPlanTimeHelper','EventReminderConstants','Image.react','React','XUICalendar.react','XUIDateTimePicker.react','emptyFunction','fbglyph'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m,n=c('EventReminderConstants').TimeErrorType;l=babelHelpers.inherits(o,c('React').Component);m=l&&l.prototype;function o(p){m.constructor.call(this,p);this.$LightweightEventDateTimePicker1=function(q){var r=q.getTime(),s=c('EventPlanTimeHelper').getTimeErrorType(r);this.setState({dateTime:r,showTimeError:s});this.props.onDateTimeChange(r,s);}.bind(this);this.state={dateTime:this.props.initialDateTime,showTimeError:n.NO_ERROR};}o.prototype.render=function(){var p=c('XUICalendar.react').normalizeDate(new Date()),q=[c('DatePickerRestraints').enforceDateIsNoEarlierThan(p)],r=void 0;switch(this.state.showTimeError){case n.PAST_TIME:r=j._("Vrijeme doga\u0111aja mora biti u budu\u0107nosti.");break;case n.AFTER_ONE_YEAR:r=j._("Odaberite datum unutar jedne godine od dana\u0161njeg dana.");break;case n.NO_ERROR:r=null;break;default:k(0);}return c('React').createElement('div',{className:"_lny"},c('React').createElement(c('XUIDateTimePicker.react'),{date:new Date(this.state.dateTime),dateIcon:c('React').createElement(c('Image.react'),{src:h("125721")}),dateRestraints:q,onChange:this.$LightweightEventDateTimePicker1,xuiError:r}),c('React').createElement('span',{className:"_lo4",'aria-label':j._("Ikona sata")}));};o.defaultProps={onDateTimeChange:c('emptyFunction')};f.exports=o;}),null);
__d('LightweightEventLocationTypeahead.react',['cx','fbt','AddressTypeahead.react','AddressTypeaheadCaller','AddressTypeaheadDisplayOrder','AddressTypeaheadIntegration','AddressTypeaheadProvider','AddressTypeaheadSearchSourceConfig','AddressTypeaheadType','React','XUIContextualDialog.react','emptyFunction'],(function a(b,c,d,e,f,g,h,i){var j,k,l=3,m='lightweight_events_creation';j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(o){'use strict';k.constructor.call(this,o);this.$LightweightEventLocationTypeahead5=function(p){var q=this.$LightweightEventLocationTypeahead2(p),r=this.$LightweightEventLocationTypeahead3(p),s=this.$LightweightEventLocationTypeahead4(p);this.setState({queryString:r});this.props.onLocationSelect(q,r,s);}.bind(this);this.$LightweightEventLocationTypeahead6=function(event){var p='';if(event.target instanceof HTMLInputElement)p=event.target.value;this.setState({queryString:p});this.props.onLocationChange(p);}.bind(this);this.state={queryString:this.props.initialQueryString};}n.prototype.$LightweightEventLocationTypeahead2=function(o){'use strict';var p=o.getAuxiliaryData();if(p&&p.resultType&&p.resultType==='place')return p.locationID;return '';};n.prototype.$LightweightEventLocationTypeahead3=function(o){'use strict';var p=o.getAuxiliaryData();if(p)if(p.freeformEntry){return p.selectedTitle;}else if(p.resultType==='street')return o.getSubtitle();return o.getTitle();};n.prototype.$LightweightEventLocationTypeahead4=function(o){'use strict';var p=o.getAuxiliaryData();return p?p.full_address:'';};n.prototype.$LightweightEventLocationTypeahead7=function(){'use strict';return new (c('AddressTypeaheadSearchSourceConfig'))(null,null,c('AddressTypeaheadProvider').HERE_THRIFT,c('AddressTypeaheadType').STREET_PLACE_TYPEAHEAD,c('AddressTypeaheadIntegration').STRING_MATCH,c('AddressTypeaheadDisplayOrder').INTERLEAVE,l,c('AddressTypeaheadCaller').LIGHTWEIGHT_EVENTS_CREATION);};n.prototype.focusInput=function(){'use strict';this.$LightweightEventLocationTypeahead1&&this.$LightweightEventLocationTypeahead1.focusInput();};n.prototype.componentDidMount=function(){'use strict';this.focusInput();};n.prototype.render=function(){'use strict';return c('React').createElement(c('AddressTypeahead.react'),babelHelpers['extends']({},this.props,{className:"_1t92",config:this.$LightweightEventLocationTypeahead7(),isFreeFormQueryAllowed:true,queryString:this.state.queryString,onSelectAttempt:this.$LightweightEventLocationTypeahead5,onChange:this.$LightweightEventLocationTypeahead6,placeholder:i._("Lokacija"),productTag:m,ref:function(o){return this.$LightweightEventLocationTypeahead1=o;}.bind(this),layerComponent:c('XUIContextualDialog.react'),layerPosition:'left',useDialog:true}));};n.defaultProps={initialQueryString:'',onLocationChange:c('emptyFunction'),onLocationSelect:c('emptyFunction')};f.exports=n;}),null);
__d('LightweightEventLocationRow.react',['cx','LightweightEventLocationTypeahead.react','React','ShimButton.react','emptyFunction'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);this.$LightweightEventLocationRow1=function(){this.setState({showTypeahead:true});}.bind(this);this.$LightweightEventLocationRow2=function(m,n,o){this.setState({locationName:n,locationAddress:o,showTypeahead:false});this.props.onLocationSelect(m,n,o);}.bind(this);this.state={locationName:this.props.initialLocationName,locationAddress:this.props.initialLocationAddress,showTypeahead:!this.props.initialLocationName};}k.prototype.render=function(){var l=this.state,m=l.locationName,n=l.locationAddress,o=l.showTypeahead,p=this.props.onLocationChange;if(!o)return c('React').createElement(c('ShimButton.react'),{className:"_16yp",onClick:this.$LightweightEventLocationRow1},c('React').createElement('div',null,c('React').createElement('div',{className:"_16yq"},m),c('React').createElement('div',{className:"_16yr"},n)));return c('React').createElement(c('LightweightEventLocationTypeahead.react'),{initialQueryString:m,onLocationChange:p,onLocationSelect:this.$LightweightEventLocationRow2});};k.defaultProps={initialLocationName:'',initialLocationAddress:'',onLocationChange:c('emptyFunction'),onLocationSelect:c('emptyFunction')};f.exports=k;}),null);
__d('ChatEventReminderFlyout.react',['cx','fbt','EventGuestProfileShape','EventReminderConstants','EventRemindersGating','EventResponseButtons.react','EventRSVPFacepile.react','LayerHideOnBlur','ContextualLayerHideOnScroll','LightweightEventDateTimePicker.react','LightweightEventLocationRow.react','LightweightEventType','Link.react','MercuryIDs','MercuryParticipants','React','ScrollableArea.react','XUIButton.react','XUIContextualDialog.react','XUIContextualDialogBody.react','XUIContextualDialogFooter.react','XUIContextualDialogTitle.react','XUIDialog.react','XUITextInput.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=c('EventReminderConstants').GuestStates,n=266,o=122;j=babelHelpers.inherits(p,c('React').Component);k=j&&j.prototype;function p(q){k.constructor.call(this,q);this.state={imagesLoaded:false};this.$ChatEventReminderFlyout1(this.props.eventMembers);}p.prototype.$ChatEventReminderFlyout1=function(q){if(!q||!this.$ChatEventReminderFlyout2())return;var r=[];q.map(function(s){var t=c('MercuryIDs').getParticipantIDFromUserID(s.fbid);r.push(t);});c('MercuryParticipants').getBigImageMulti(r,function(s){if(!q)return;for(var t=0;t<q.length;t++)if(q[t].fbid)q[t].imageSrc=s[c('MercuryIDs').getParticipantIDFromUserID(q[t].fbid)];this.state={imagesLoaded:true};}.bind(this));};p.prototype.focusInput=function(){this.refs.event_title.focusInput();};p.prototype.componentDidMount=function(){this.focusInput();};p.prototype.render=function(){var q=c('XUIDialog.react'),r=null;if(this.props.useContextualDialog){q=c('XUIContextualDialog.react');r={LayerHideOnBlur:c('LayerHideOnBlur'),LayerHideOnScroll:c('ContextualLayerHideOnScroll')};}return c('React').createElement(q,babelHelpers['extends']({width:n,behaviors:r,hideOnEscape:true},this.props.dialogProps),c('React').createElement('div',{className:"_2l1g"},c('React').createElement(c('XUIContextualDialogTitle.react'),{className:"_2l1h"},c('React').createElement('span',{className:"_2l1i"},this.$ChatEventReminderFlyout3())),c('React').createElement(c('XUIContextualDialogBody.react'),{className:"_2l1j"},c('React').createElement('div',{className:"_2l1l"},c('React').createElement(c('LightweightEventDateTimePicker.react'),{initialDateTime:this.props.eventDate,onDateTimeChange:this.props.onDateTimeChange})),c('React').createElement('div',{className:"_2l1l"},c('React').createElement(c('XUITextInput.react'),{className:"autofocus _2l1n",'aria-label':i._("Naziv doga\u0111aja"),placeholder:i._("Naziv"),ref:'event_title',value:this.props.eventName,onChange:this.props.onNameChange})),this.$ChatEventReminderFlyout4(),this.$ChatEventReminderFlyout5()),c('React').createElement(c('XUIContextualDialogFooter.react'),null,this.$ChatEventReminderFlyout6(),c('React').createElement(c('XUIButton.react'),{label:this.$ChatEventReminderFlyout7(),use:'confirm',onClick:this.props.onCreateOrChangeEvent}))));};p.prototype.$ChatEventReminderFlyout4=function(){if(this.props.eventType!==c('LightweightEventType').EVENT)return null;return c('React').createElement('div',{className:"_2l1l"},c('React').createElement(c('LightweightEventLocationRow.react'),{initialLocationName:this.props.eventLocationName,initialLocationAddress:this.props.eventLocationAddress,onLocationChange:this.props.onLocationChange,onLocationSelect:this.props.onLocationSelect}));};p.prototype.$ChatEventReminderFlyout5=function(){var q=this.props.eventMembers;if(this.props.eventType!==c('LightweightEventType').EVENT||!q||!this.state.imagesLoaded||!this.$ChatEventReminderFlyout2())return null;return c('React').createElement('div',{className:"_2l1l"},c('React').createElement('div',{className:"_pyv"},i._({"*":"{number} dolazi","268435456":"Jedna osoba dolazi"},[i.plural(this.props.numOfGoingMembers,'number')])),c('React').createElement(c('ScrollableArea.react'),{className:"_pyw",maxHeight:o},c('React').createElement(c('EventRSVPFacepile.react'),{profiles:q})),c('React').createElement('div',{className:"_2m6x"},c('React').createElement(c('EventResponseButtons.react'),{guestState:this.props.selfGuestState,onResponseClick:this.props.onSelfGuestStateChange,size:'medium'})));};p.prototype.$ChatEventReminderFlyout6=function(){if(!this.props.isEditing)return null;var q=this.$ChatEventReminderFlyout8()?i._("Izbri\u0161i plan"):i._("Izbri\u0161i");return c('React').createElement(c('Link.react'),{className:"_2l1p",onClick:this.props.onDeleteEvent},q);};p.prototype.$ChatEventReminderFlyout3=function(){if(this.props.eventType===c('LightweightEventType').CALL)return i._("Podsjetnik za poziv");return this.$ChatEventReminderFlyout8()?i._("Plan"):i._("Podsjetnik za doga\u0111aj");};p.prototype.$ChatEventReminderFlyout7=function(){if(this.props.isEditing){return this.$ChatEventReminderFlyout8()?i._("Gotovo"):i._("Postavi");}else return this.$ChatEventReminderFlyout8()?i._("Zapo\u010dnite plan"):i._("Kreiraj");};p.prototype.$ChatEventReminderFlyout2=function(){return c('EventRemindersGating').isRSVPAllowed;};p.prototype.$ChatEventReminderFlyout8=function(){return c('EventRemindersGating').shouldUseNewName;};p.propTypes={isEditing:l.bool.isRequired,eventType:l.oneOf([c('LightweightEventType').CALL,c('LightweightEventType').DIRECT_M,c('LightweightEventType').EVENT]),eventDate:l.number.isRequired,eventName:l.string,eventLocationName:l.string,eventLocationAddress:l.string,eventMembers:l.arrayOf(l.shape(c('EventGuestProfileShape')).isRequired),numOfGoingMembers:l.number,selfGuestState:l.oneOf([m.GOING,m.DECLINED,m.INVITED]),onCreateOrChangeEvent:l.func.isRequired,onDeleteEvent:l.func.isRequired,onDateTimeChange:l.func.isRequired,onNameChange:l.func.isRequired,onLocationChange:l.func.isRequired,onLocationSelect:l.func.isRequired,onSelfGuestStateChange:l.func.isRequired,useContextualDialog:l.bool.isRequired,dialogProps:l.object};f.exports=p;}),null);
__d('ChatEventReminderTabSheet.react',['ix','cx','fbt','ChatEventReminderFlyout.react','EventGuestProfileShape','EventPlanStrings','EventReminderActionsLogger','EventReminderConstants','EventRemindersGating','Image.react','LightweightEventType','React','XUIButton.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('EventReminderConstants').GuestStates,n=c('React').PropTypes,o=' \u00B7 ';k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;p.prototype.componentDidMount=function(){c('EventReminderActionsLogger').logViewOnChatTabSheet(this.props.eventID);};p.prototype.render=function(){return c('React').createElement('div',{onClick:this.props.handleClick,ref:'banner',role:'button',tabIndex:'0'},c('React').createElement('div',{tabIndex:0,className:"_4cu7"},c('React').createElement('div',null,c('React').createElement('span',{className:"_4r4s"},this.$ChatEventReminderTabSheet1()),c('React').createElement(c('Image.react'),{className:"_4cu8",src:h("113739")})),this.$ChatEventReminderTabSheet2()),this.$ChatEventReminderTabSheet3());};p.prototype.$ChatEventReminderTabSheet3=function(){if(!this.props.shown)return null;var q={alignment:'left',position:'left',contextRef:function(){return this.refs.banner;}.bind(this),onToggle:this.props.onToggle,shown:this.props.shown};return c('React').createElement(c('ChatEventReminderFlyout.react'),{isEditing:true,eventType:this.props.eventType,eventDate:this.props.flyoutEventDate,eventName:this.props.flyoutEventName,eventLocationName:this.props.flyoutEventLocationName,eventLocationAddress:this.props.flyoutEventLocationAddress,eventMembers:this.props.eventMembers,numOfGoingMembers:this.props.numOfGoingMembers,selfGuestState:this.props.selfGuestState,onDateTimeChange:this.props.onDateTimeChange,onNameChange:this.props.onNameChange,onLocationChange:this.props.onLocationChange,onLocationSelect:this.props.onLocationSelect,onSelfGuestStateChange:this.props.onSelfGuestStateChange,onCreateOrChangeEvent:this.props.onCreateOrChangeEvent,onDeleteEvent:this.props.onDeleteEvent,useContextualDialog:true,dialogProps:q});};p.prototype.$ChatEventReminderTabSheet1=function(){if(!this.props.isEventLoaded){return c('EventPlanStrings').getLoadingPlanFBT();}else return c('EventPlanStrings').getDisplayDateAndTimeFBT(this.props.eventDate,this.props.eventName);};p.prototype.$ChatEventReminderTabSheet2=function(){var q=this.$ChatEventReminderTabSheet4();if(!this.props.eventLocationName&&!q)return null;if(this.props.selfGuestState===m.INVITED&&this.$ChatEventReminderTabSheet4())return this.$ChatEventReminderTabSheet5();var r=c('EventPlanStrings').getSubtitle(this.props.numOfGoingMembers,this.props.eventLocationName,q);return c('React').createElement('div',{className:"_47d1"},r);};p.prototype.$ChatEventReminderTabSheet5=function(){return c('React').createElement('div',{className:"_4qxr"},c('React').createElement(c('XUIButton.react'),{className:"_4qxu",label:j._("Ne mogu do\u0107i"),onClick:function(event){event.stopPropagation();this.props.onSelfGuestStateChange(m.DECLINED);}.bind(this),size:'small'}),c('React').createElement(c('XUIButton.react'),{className:"_4qxv",label:j._("Dolazim"),onClick:function(event){event.stopPropagation();this.props.onSelfGuestStateChange(m.GOING);}.bind(this),size:'small'}));};p.prototype.$ChatEventReminderTabSheet4=function(){return this.props.allowRSVP&&c('EventRemindersGating').isRSVPAllowed;};function p(){k.apply(this,arguments);}p.propTypes={eventName:n.string,eventDate:n.number.isRequired,eventLocationName:n.string,eventMembers:n.arrayOf(n.shape(c('EventGuestProfileShape')).isRequired),allowRSVP:n.bool.isRequired,numOfGoingMembers:n.number,selfGuestState:n.oneOf([m.GOING,m.DECLINED,m.INVITED]),flyoutEventDate:n.number.isRequired,flyoutEventName:n.string,flyoutEventLocationName:n.string,flyoutEventLocationAddress:n.string,eventID:n.string.isRequired,eventType:n.oneOf([c('LightweightEventType').CALL,c('LightweightEventType').DIRECT_M,c('LightweightEventType').EVENT]),handleClick:n.func.isRequired,onToggle:n.func.isRequired,onCreateOrChangeEvent:n.func.isRequired,onDeleteEvent:n.func.isRequired,onDateTimeChange:n.func.isRequired,onNameChange:n.func.isRequired,onLocationChange:n.func.isRequired,onLocationSelect:n.func.isRequired,onSelfGuestStateChange:n.func.isRequired,isEventLoaded:n.bool};f.exports=p;}),null);
__d("XCreateEventReminderController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ajax\/eventreminder\/create\/",{acontext:{type:"String",required:true},event_type:{type:"Enum",required:true,enumType:1},event_time:{type:"Int"},thread_id:{type:"Int",required:true},title:{type:"String"},location_id:{type:"String"},location_name:{type:"String"},related_event_id:{type:"Int"}});}),null);
__d("XEditEventReminderController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ajax\/eventreminder\/submit\/",{acontext:{type:"String",required:true},event_reminder_id:{type:"Int",required:true},title:{type:"String"},date:{type:"Int"},location_id:{type:"String"},location_name:{type:"String"},"delete":{type:"Bool",defaultValue:false}});}),null);
__d("XEventReminderRSVPController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ajax\/eventreminder\/rsvp\/",{acontext:{type:"String",required:true},event_reminder_id:{type:"Int",required:true},guest_state:{type:"Enum",required:true,enumType:1}});}),null);
__d('ChatEventReminderContainer.react',['AsyncRequest','ChatEventReminderFlyout.react','ChatEventReminderTabSheet.react','EventPlanTimeHelper','EventReminderActions','EventReminderActionsLogger','EventReminderConstants','EventReminderRequestHelper','EventReminderStateStore','FBJSON','FluxContainer','LightweightEventType','MercuryIDs','React','XCreateEventReminderController','XEditEventReminderController','XEventReminderRSVPController'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').Component,k=c('EventReminderConstants').GuestStates,l=c('EventReminderConstants').TimeErrorType,m=1000,n=3600;h=babelHelpers.inherits(o,j);i=h&&h.prototype;function o(p){i.constructor.call(this,p);this.$ChatEventReminderContainer9=function(q){if(q!==this.state.shown)this.setState({shown:q});}.bind(this);this.$ChatEventReminderContainer8=function(){var q=this.state.eventID;c('EventReminderActionsLogger').logClickOnChatTabSheet(q);if(!this.state.shown){c('EventReminderRequestHelper').fetchEventReminder(this.props.threadID,q,function(){this.setState({shown:true});}.bind(this));}else this.setState({shown:false});}.bind(this);this.$ChatEventReminderContainer1=function(q,r){this.setState({flyoutEventDate:q,showTimeError:r});}.bind(this);this.$ChatEventReminderContainer2=function(event){this.setState({flyoutEventName:event.target.value});}.bind(this);this.$ChatEventReminderContainer3=function(q){this.setState({flyoutEventLocationID:'',flyoutEventLocationName:q,flyoutEventLocationAddress:''});}.bind(this);this.$ChatEventReminderContainer4=function(q,r,s){this.setState({flyoutEventLocationID:q,flyoutEventLocationName:r,flyoutEventLocationAddress:s});}.bind(this);this.$ChatEventReminderContainer5=function(q){this.setState({selfGuestState:q});var r=c('XEventReminderRSVPController').getURIBuilder().setInt('event_reminder_id',this.state.eventID).setEnum('guest_state',q).setString('acontext',c('FBJSON').stringify(this.props.actionContext));new (c('AsyncRequest'))(r.getURI()).send();}.bind(this);this.$ChatEventReminderContainer7=function(){if(this.state.showTimeError!==l.NO_ERROR)return;if(this.props.isEditing){this.$ChatEventReminderContainer10();}else this.$ChatEventReminderContainer11();}.bind(this);this.$ChatEventReminderContainer6=function(){var q=this.state.eventID,r=c('XEditEventReminderController').getURIBuilder().setInt('event_reminder_id',q).setBool('delete',true).setString('acontext',c('FBJSON').stringify(this.props.actionContext));new (c('AsyncRequest'))(r.getURI()).setHandler(function(s){if(s.payload){if(this.props.dialogProps&&this.props.dialogProps.onToggle)this.props.dialogProps.onToggle(false);c('EventReminderActions').deleteEventReminder(this.props.threadID);}}.bind(this)).send();}.bind(this);}o.getStores=function(p){return [c('EventReminderStateStore')];};o.calculateState=function(p,q){var event=c('EventReminderStateStore').getEvent(q.threadID);if(!q.isEditing||!event||!event.exists)return this.getDefaultState(q);var r=c('EventReminderStateStore').getEventMembers(q.threadID),s=c('EventReminderStateStore').getNumOfGoingMembers(q.threadID),t=c('EventReminderStateStore').getSelfGuestState(q.threadID);return {eventDate:event.eventDate,eventName:event.eventName,eventLocationName:event.eventLocationName,eventMembers:r,eventID:event.eventID,eventType:event.eventType,flyoutEventDate:event.eventDate*m,flyoutEventName:event.eventName,flyoutEventLocationID:'',flyoutEventLocationName:event.eventLocationName,flyoutEventLocationAddress:event.eventLocationAddress,shown:false,isEventLoaded:true,showTimeError:l.NO_ERROR,allowRSVP:event.allowRSVP,numOfGoingMembers:s,selfGuestState:t};};o.getDefaultState=function(p){var q=Date.now()+m*n;if(p.defaultEventDate)q=p.defaultEventDate*m;return {eventDate:q/m,eventName:'',eventLocationName:'',eventMembers:[],eventID:'',eventType:c('LightweightEventType').EVENT,flyoutEventDate:q,flyoutEventName:'',flyoutEventLocationID:'',flyoutEventLocationName:'',flyoutEventLocationAddress:'',shown:false,isEventLoaded:false,showTimeError:l.NO_ERROR,allowRSVP:false,numOfGoingMembers:0,selfGuestState:k.INVITED};};o.prototype.render=function(){if(this.props.flyoutNoSheet)return c('React').createElement(c('ChatEventReminderFlyout.react'),{isEditing:this.props.isEditing,eventType:this.state.eventType,eventDate:this.state.flyoutEventDate,eventName:this.state.flyoutEventName,eventLocationName:this.state.flyoutEventLocationName,eventLocationAddress:this.state.flyoutEventLocationAddress,eventMembers:this.state.eventMembers,numOfGoingMembers:this.state.numOfGoingMembers,selfGuestState:this.state.selfGuestState,onDateTimeChange:this.$ChatEventReminderContainer1,onNameChange:this.$ChatEventReminderContainer2,onLocationChange:this.$ChatEventReminderContainer3,onLocationSelect:this.$ChatEventReminderContainer4,onSelfGuestStateChange:this.$ChatEventReminderContainer5,onDeleteEvent:this.$ChatEventReminderContainer6,onCreateOrChangeEvent:this.$ChatEventReminderContainer7,useContextualDialog:this.props.useContextualDialog,dialogProps:this.props.dialogProps});return c('React').createElement('span',null,c('React').createElement(c('ChatEventReminderTabSheet.react'),babelHelpers['extends']({},this.props,{flyoutEventDate:this.state.flyoutEventDate,flyoutEventName:this.state.flyoutEventName,flyoutEventLocationName:this.state.flyoutEventLocationName,flyoutEventLocationAddress:this.state.flyoutEventLocationAddress,eventDate:this.state.eventDate,eventName:this.state.eventName,eventLocationName:this.state.eventLocationName,eventMembers:this.state.eventMembers,allowRSVP:this.state.allowRSVP,numOfGoingMembers:this.state.numOfGoingMembers,selfGuestState:this.state.selfGuestState,eventID:this.state.eventID,eventType:this.state.eventType,shown:this.state.shown,handleClick:this.$ChatEventReminderContainer8,onToggle:this.$ChatEventReminderContainer9,onDateTimeChange:this.$ChatEventReminderContainer1,onNameChange:this.$ChatEventReminderContainer2,onLocationChange:this.$ChatEventReminderContainer3,onLocationSelect:this.$ChatEventReminderContainer4,onSelfGuestStateChange:this.$ChatEventReminderContainer5,onDeleteEvent:this.$ChatEventReminderContainer6,onCreateOrChangeEvent:this.$ChatEventReminderContainer7,isEventLoaded:this.state.isEventLoaded,tabIndex:0})));};o.prototype.$ChatEventReminderContainer11=function(){var p=c('MercuryIDs').getThreadFBIDFromThreadID(this.props.threadID),q=c('XCreateEventReminderController').getURIBuilder().setString('acontext',c('FBJSON').stringify(this.props.actionContext)).setEnum('event_type',c('LightweightEventType').EVENT).setInt('event_time',Math.floor(this.state.flyoutEventDate/m)).setInt('thread_id',p).setString('title',this.state.flyoutEventName).setString('location_id',this.state.flyoutEventLocationID).setString('location_name',this.state.flyoutEventLocationName);new (c('AsyncRequest'))(q.getURI()).setHandler(function(r){if(r.payload&&this.props.dialogProps&&this.props.dialogProps.onToggle)this.props.dialogProps.onToggle(false);}.bind(this)).send();};o.prototype.$ChatEventReminderContainer10=function(){var p=c('XEditEventReminderController').getURIBuilder().setInt('event_reminder_id',this.state.eventID).setString('title',this.state.flyoutEventName).setInt('date',this.state.flyoutEventDate/m).setString('location_id',this.state.flyoutEventLocationID).setString('location_name',this.state.flyoutEventLocationName).setBool('delete',false).setString('acontext',c('FBJSON').stringify(this.props.actionContext));new (c('AsyncRequest'))(p.getURI()).setHandler(function(q){if(q.payload){if(this.props.dialogProps&&this.props.dialogProps.onToggle)this.props.dialogProps.onToggle(false);c('EventReminderActions').updateEventReminder(this.props.threadID,q.payload);}}.bind(this)).send();};f.exports=c('FluxContainer').create(o,{withProps:true});}),null);
__d('FantaEventReminderTabSheet.react',['ChatEventReminderContainer.react','EventsActionsLogger','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').PureComponent);i=h&&h.prototype;j.prototype.render=function(){var k={action_history:[{surface:c('EventsActionsLogger').Surface.MESSENGER_CHAT_TAB,mechanism:c('EventsActionsLogger').Mechanism.REMINDER_BANNER}]};return c('React').createElement(c('ChatEventReminderContainer.react'),{threadID:this.props.threadID,flyoutNoSheet:false,isEditing:true,useContextualDialog:true,actionContext:k});};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('ChatEventPlanCTA.react',['cx','fbt','ChatEventReminderContainer.react','EventsActionsLogger','EventPlanStrings','EventRemindersGating','EventReminderActionsLogger','EventReminderRequestHelper','EventReminderStateStore','React','ShimButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={isEditing:false,showFlyout:false},this.$ChatEventPlanCTA1=function(){c('EventReminderActionsLogger').logClickOnTriggerCTA();var s=c('EventReminderStateStore').getEvent(this.props.threadID);if(s&&s.exists){this.setState({isEditing:true});if(!this.state.showFlyout){c('EventReminderRequestHelper').fetchEventReminder(this.props.threadID,s.eventID,function(){this.setState({showFlyout:true});}.bind(this));}else this.setState({showFlyout:false});}else this.setState({isEditing:false,showFlyout:!this.state.showFlyout});}.bind(this),this.onToggle=function(s){this.setState({showFlyout:s});}.bind(this),o;}m.prototype.render=function(){var n=c('EventRemindersGating').shouldUseNewName?c('EventPlanStrings').getStartPlanFBT():i._("Namjestite podsjetnik za doga\u0111aj");return c('React').createElement(c('ShimButton.react'),{className:"_5_65 _1ejy",onClick:this.$ChatEventPlanCTA1},n,this.$ChatEventPlanCTA2());};m.prototype.$ChatEventPlanCTA2=function(){if(!this.state.showFlyout)return null;var n={alignment:'left',position:'left',contextRef:function(){return this;}.bind(this),shown:this.state.showFlyout,onToggle:this.onToggle},o={action_history:[{surface:c('EventsActionsLogger').Surface.MESSENGER_CHAT_TAB,mechanism:c('EventsActionsLogger').Mechanism.TRIGGER_CTA}]};return c('React').createElement(c('ChatEventReminderContainer.react'),{actionContext:o,defaultEventDate:this.props.data.timestamp,dialogProps:n,flyoutNoSheet:true,isEditing:this.state.isEditing,threadID:this.props.threadID,useContextualDialog:true});};m.propTypes={threadID:l.string.isRequired,data:l.shape({confidence:l.number.isRequired,name:l.string.isRequired,timestamp:l.number.isRequired}).isRequired};f.exports=m;}),null);
__d('ChatEventPlanTriggers.react',['cx','ChatEventReminderContainer.react','EventsActionsLogger','EventReminderActionsLogger','EventReminderRequestHelper','EventReminderStateStore','Link.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={isEditing:false,showFlyout:false},this.$ChatEventPlanTriggers1=function(){c('EventReminderActionsLogger').logClickOnTriggerWord();var r=c('EventReminderStateStore').getEvent(this.props.threadID);if(r&&r.exists){this.setState({isEditing:true});if(!this.state.showFlyout){c('EventReminderRequestHelper').fetchEventReminder(this.props.threadID,r.eventID,function(){this.setState({showFlyout:true});}.bind(this));}else this.setState({showFlyout:false});}else this.setState({isEditing:false,showFlyout:!this.state.showFlyout});}.bind(this),this.onToggle=function(r){this.setState({showFlyout:r});}.bind(this),n;}l.prototype.render=function(){return c('React').createElement(c('Link.react'),{className:"_fcj",onClick:this.$ChatEventPlanTriggers1},this.props.text,this.$ChatEventPlanTriggers2());};l.prototype.$ChatEventPlanTriggers2=function(){if(!this.state.showFlyout)return null;var m={alignment:'left',position:'left',contextRef:function(){return this;}.bind(this),shown:this.state.showFlyout,onToggle:this.onToggle},n={action_history:[{surface:c('EventsActionsLogger').Surface.MESSENGER_CHAT_TAB,mechanism:c('EventsActionsLogger').Mechanism.TRIGGER_WORD}]};return c('React').createElement(c('ChatEventReminderContainer.react'),{actionContext:n,defaultEventDate:this.props.data.value,dialogProps:m,flyoutNoSheet:true,isEditing:this.state.isEditing,threadID:this.props.threadID,useContextualDialog:true});};l.propTypes={text:k.string.isRequired,threadID:k.string.isRequired,data:k.shape({name:k.string.isRequired,value:k.number.isRequired}).isRequired};f.exports=l;}),null);